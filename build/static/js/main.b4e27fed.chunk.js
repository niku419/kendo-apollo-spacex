(this["webpackJsonptypescript-react"]=this["webpackJsonptypescript-react"]||[]).push([[0],{232:function(e,n,t){},233:function(e,n,t){},323:function(e,n,t){},324:function(e,n,t){"use strict";t.r(n);var c=t(0),s=t.n(c),a=t(25),i=t.n(a),r=(t(232),t(233),t(84)),l=t(87),d=t(37),o=t(347),j=t(42),b=t(117),h=t(71),u=t(345),O=t(341),m=t(2);function x(e){var n=e.loading;return Object(m.jsx)(b.a,{wrap:!0,children:[0,1,2,3,4,5,6,7,8,9].map((function(e){return Object(m.jsx)(h.a,{span:8,xs:{span:24},sm:{span:24},md:{span:12},lg:{span:8},className:"pad",children:Object(m.jsx)(u.a,{loading:n,active:!0,children:Object(m.jsx)(O.a,{loading:n,children:Object(m.jsx)(O.a.Meta,{title:"loading",description:"loading"})},e)})},e)}))})}var g,p,f,v,k,N,y,_,w,S,$,I,C,E=t(48),q=t(343),U=Object(q.a)(g||(g=Object(E.a)(["\n  query LaunchById($id: ID!) {\n    launch(id: $id) {\n      details\n      id\n      launch_date_local\n      launch_site {\n        site_name_long\n      }\n      launch_success\n      launch_year\n      links {\n        article_link\n        flickr_images\n        video_link\n      }\n      mission_name\n      rocket {\n        rocket_name\n        rocket {\n          id\n        }\n      }\n      ships {\n        name\n        weight_kg\n        year_built\n        speed_kn\n      }\n      upcoming\n    }\n  }\n"]))),R=Object(q.a)(p||(p=Object(E.a)(["\n  query RocketById($id: ID!) {\n    rocket(id: $id) {\n      boosters\n      company\n      cost_per_launch\n      country\n      description\n      diameter {\n        meters\n      }\n      engines {\n        engine_loss_max\n      }\n      height {\n        meters\n      }\n      id\n      landing_legs {\n        number\n        material\n      }\n      mass {\n        kg\n      }\n      name\n    }\n  }\n"]))),D=Object(q.a)(f||(f=Object(E.a)(["\n  query UpcomingLaunchById($id: ID!) {\n    launchesUpcoming(find: { id: $id }) {\n      details\n      id\n      launch_date_local\n      launch_site {\n        site_name\n      }\n      mission_name\n    }\n  }\n"]))),L=Object(q.a)(v||(v=Object(E.a)(['\n  query($offset: Int, $limit: Int) {\n    launches(\n      offset: $offset\n      limit: $limit\n      order: "DESC"\n      sort: "launch_date_local"\n    ) {\n      id\n      details\n      mission_name\n      launch_date_local\n    }\n  }\n']))),T=Object(q.a)(k||(k=Object(E.a)(["\n  query {\n    rockets {\n      id\n    }\n  }\n"]))),M=Object(q.a)(N||(N=Object(E.a)(["\n  query getrockets($offset: Int, $limit: Int) {\n    rockets(offset: $offset, limit: $limit) {\n      description\n      id\n      name\n    }\n  }\n"]))),B=Object(q.a)(y||(y=Object(E.a)(['\n  query getlaunches($offset: Int) {\n    launchesUpcoming(\n      limit: 1\n      order: "DESC"\n      sort: "launch_date_local"\n      offset: $offset\n    ) {\n      details\n      id\n      mission_name\n      launch_date_local\n    }\n  }\n']))),P=Object(q.a)(_||(_=Object(E.a)(["\n  query {\n    launchesUpcoming {\n      id\n    }\n  }\n"]))),A=Object(q.a)(w||(w=Object(E.a)(["\n  query {\n    launches {\n      id\n    }\n  }\n"]))),J=Object(q.a)(S||(S=Object(E.a)(["\n  query GetUser($_eq: uuid) {\n    users(where: { id: { _eq: $_eq } }) {\n      name\n      id\n      rocket\n      twitter\n    }\n  }\n"]))),F=Object(q.a)($||($=Object(E.a)(["\n  query {\n    users {\n      id\n    }\n  }\n"]))),z=Object(q.a)(I||(I=Object(E.a)(["\n  query getusers(\n    $offset: Int\n    $limit: Int\n    $_ilike: String\n    $_similar: String\n  ) {\n    users(\n      limit: $limit\n      offset: $offset\n      order_by: { timestamp: desc }\n      where: { name: { _ilike: $_ilike }, rocket: { _ilike: $_similar } }\n    ) {\n      name\n      id\n      rocket\n    }\n  }\n"]))),Y=Object(q.a)(C||(C=Object(E.a)(["\n  query users($offset: Int, $limit: Int, $search: String) {\n    users(\n      order_by: { timestamp: desc }\n      limit: $limit\n      offset: $offset\n      where: {\n        _or: [{ name: { _ilike: $search } }, { rocket: { _ilike: $search } }]\n      }\n    ) {\n      id\n      name\n      rocket\n    }\n  }\n"]))),W="/",V="/users",G="/launches",H="/rockets",Z="/users/:userId/edit",K="/users/create",Q="/rockets/:rocketId",X="/launches/:launchId",ee="upcoming-launch/:launchId",ne=t(16);function te(){var e=Object(l.g)(),n=Object(o.a)(A),t=!n.loading&&n.data.launches.length,s=Object(c.useState)(0),a=Object(d.a)(s,2),i=a[0],r=a[1],b=Object(c.useState)(1),h=Object(d.a)(b,2),u=h[0],O=h[1],g=Object(c.useState)(10),p=Object(d.a)(g,2),f=p[0],v=p[1],k=Object(c.useState)([]),N=Object(d.a)(k,2),y=N[0],_=N[1],w=Object(o.a)(L,{variables:{limit:10,offset:i}}),S=w.loading,$=w.error,I=w.data,C=w.fetchMore;return S?Object(m.jsx)(x,{loading:S}):$?Object(m.jsxs)("p",{children:["Error ",JSON.stringify($)]}):Object(m.jsxs)("div",{className:"mar",children:[Object(m.jsx)("a",{href:"/launches",children:Object(m.jsx)(j.d,{dir:"rtl",id:"launches",text:"Launches"})}),Object(m.jsx)("div",{className:"heading",children:Object(m.jsx)("h1",{children:"Launches"})}),Object(m.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"space-evenly"},children:(y.launches&&y.launches.length>0||I.launches.length>0)&&(y.launches&&y.launches.length>0?y:I).launches.map((function(n){return Object(m.jsxs)("div",{onClick:function(){return t=n.id,console.log(t),void e.push("launches/".concat(t));var t},className:"col-md-3 col-sm-12 col-sm-6 col-lg-3 round k-card card-hover",style:{alignItems:"stretch"},children:[Object(m.jsx)(j.f,{className:"heading",children:Object(m.jsx)(j.g,{children:n.mission_name})}),Object(m.jsx)(j.e,{className:"mar",children:n.details||"No Description"})]},n.id)}))}),Object(m.jsx)("div",{className:"flex-end",children:Object(m.jsx)(ne.d,{skip:f*(u-1),take:f,total:t,onPageChange:function(e){v(e.take),r(e.skip),C({variables:{limit:e.take,offset:e.skip}}).then((function(e){return _(e.data)})),n.refetch(),O(e.skip/10+1)},buttonCount:5,info:!0,type:"numeric"})})]})}function ce(){var e=Object(c.useState)(0),n=Object(d.a)(e,2),t=n[0],s=n[1],a=Object(c.useState)([]),i=Object(d.a)(a,2),r=i[0],l=i[1],b=Object(c.useState)(10),h=Object(d.a)(b,2),u=h[0],O=h[1],g=Object(c.useState)(1),p=Object(d.a)(g,2),f=p[0],v=p[1],k=Object(o.a)(M,{variables:{limit:10,offset:t}}),N=k.loading,y=k.error,_=k.data,w=k.fetchMore,S=Object(o.a)(T),$=!S.loading&&S.data.rockets.length;return N?Object(m.jsx)(x,{loading:N}):y?Object(m.jsxs)("p",{children:["Error ",JSON.stringify(y)]}):Object(m.jsxs)("div",{className:"mar",children:[Object(m.jsx)("a",{href:"/rockets",children:Object(m.jsx)(j.d,{dir:"rtl",id:"rockets",text:"Rockets"})}),Object(m.jsx)("div",{className:"heading",children:Object(m.jsx)("h1",{children:"Rockets"})}),Object(m.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"center"},children:(r.rockets&&r.rockets.length>0||_.rockets.length>0)&&(r.rockets&&r.rockets.length>0?r:_).rockets.map((function(e){return Object(m.jsxs)("div",{onClick:function(){return redirect(e.id)},className:"col-md-3 col-sm-12 col-lg-3 round k-card card-hover",style:{alignItems:"stretch"},children:[Object(m.jsx)(j.f,{className:"heading",children:Object(m.jsx)(j.g,{children:e.name})}),Object(m.jsx)(j.e,{className:"mar",children:e.description})]},e.id)}))}),Object(m.jsx)("div",{className:"flex-end",children:Object(m.jsx)(ne.d,{skip:u*(f-1),take:u,total:$,onPageChange:function(e){O(e.take),s(e.skip),w({variables:{limit:e.take,offset:e.skip}}).then((function(e){return l(e.data)})),S.refetch(),v(e.skip/10+1)},buttonCount:5,info:!0,type:"numeric"})})]})}var se=t(340),ae=t(339);function ie(){var e=Object(c.useState)(0),n=Object(d.a)(e,2),t=n[0],s=n[1],a=Object(o.a)(B,{variables:{offset:t}}),i=a.loading,r=a.error,l=a.data,j=a.fetchMore;var u=Object(o.a)(P),g=!u.loading&&u.data.launchesUpcoming.length;return Object(c.useEffect)((function(){t&&(j({variables:{offset:t}}),u.refetch())}),[j,t,u]),r?Object(m.jsxs)("p",{children:["Error ",JSON.stringify(r)]}):i?Object(m.jsx)("div",{className:"center",children:Object(m.jsx)(x,{loading:i})}):Object(m.jsxs)("div",{className:"mar",children:[Object(m.jsx)(se.a,{children:Object(m.jsx)(se.a.Item,{children:Object(m.jsx)("a",{href:W,children:"Upcoming Launches"})})}),Object(m.jsx)("div",{className:"heading",children:Object(m.jsx)("h1",{children:"Upcoming Launches"})}),Object(m.jsx)(b.a,{className:"mar center",children:l.launchesUpcoming.length>0&&l.launchesUpcoming.map((function(e){return Object(m.jsx)(h.a,{span:6,xs:{span:24},sm:{span:24},md:{span:12},lg:{span:6},children:Object(m.jsx)("a",{href:"upcoming-launch/".concat(e.id),children:Object(m.jsxs)(O.a,{hoverable:!0,loading:i,className:"border card-hover",children:[Object(m.jsx)("div",{className:"center",children:Object(m.jsx)("h3",{children:e.mission_name})}),Object(m.jsx)(O.a.Meta,{description:e.details})]},e.id)})},e.id)}))}),Object(m.jsx)("div",{className:"flex-end",children:Object(m.jsx)(ae.a,{current:t+1,onChange:function(e){s(e-1)},defaultPageSize:1,pageSize:1,total:g})})]})}var re=t(206),le=t.n(re),de=t(346),oe=t(216),je=t(171),be=t(209),he=t(344),ue=t(215),Oe=t(115),me=t(342),xe=t(337),ge=t(338),pe=t(57),fe=Object(pe.a)(),ve=t(167);function ke(){var e=window.location.pathname,n=e.substring(e.indexOf("/")+1,e.lastIndexOf("/"));return console.log(e,n),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(j.a,{className:"fixed-header",children:[Object(m.jsx)(j.c,{style:{width:4}}),Object(m.jsx)(j.b,{children:Object(m.jsx)("h1",{className:"title",children:Object(m.jsx)("a",{href:"/",children:"Kendo Apollo SpaceX"})})}),Object(m.jsx)(j.c,{}),Object(m.jsx)(j.b,{children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("span",{children:Object(m.jsx)("a",{href:"/launches",style:{borderBottomStyle:"launches"===n||"/launches"===e?"solid":"none"},children:"Launches"})})}),Object(m.jsx)("li",{children:Object(m.jsx)("span",{children:Object(m.jsx)("a",{href:"/rockets",style:{borderBottomStyle:"rockets"===n||"/rockets"===e?"solid":"none"},children:"Rockets"})})}),Object(m.jsx)("li",{children:Object(m.jsx)("span",{children:Object(m.jsx)("a",{href:"/users",style:{borderBottomStyle:"users"===n||"/users"===e?"solid":"none"},children:"Users"})})})]})})]}),Object(m.jsx)("style",{children:"\n          body {\n              background: #dfdfdf;\n          }\n          .title {\n              font-size: 18px;\n              margin: 0;\n          }\n          ul {\n              font-size: 14px;\n              list-style-type: none;\n              padding: 0;\n              margin: 0;\n              display: flex;\n          }\n          li {\n              margin: 0 10px;\n          }\n          li:hover {\n              cursor: pointer;\n              color: #84cef1;\n          }\n          .k-button {\n              padding: 0;\n          }\n          .k-badge-container {\n              margin-right: 8px;\n          }\n      "})]})}var Ne=null,ye=new he.a;function _e(e){return le()(e).format("MM/DD/YYYY")}var we=function(e){var n=e.message,t=e.type;switch(oe.b.destroy(),t){case"info":oe.b.info(n);break;case"success":oe.b.success(n);break;case"warning":oe.b.warning(n);break;case"error":oe.b.error(n)}},Se=Object(ue.a)({uri:"https://api.spacex.land/graphql/",credentials:"same-origin"}),$e=new Oe.a((function(e,n){return n(e).map((function(e){var n=e.data;return n&&Object(je.isObject)(n)&&Object.keys(n).length>0&&n["".concat(Object.keys(n)[0])]&&n["".concat(Object.keys(n)[0])].message&&("forgotUserPassword"===Object.keys(n)[0]?"ERROR"!==n["".concat(Object.keys(n)[0])].status&&setTimeout((function(){we({message:n["".concat(Object.keys(n)[0])].message||"Operation successful",type:"success"})}),1e3):setTimeout((function(){var t=n["".concat(Object.keys(n)[0])];e&&we({message:t.message||"Operation successful",type:"ERROR"===t.status?"error":"success"})}),1e3)),e}))})),Ie=Object(be.a)((function(e){var n=e.graphQLErrors,t=e.networkError,c=e.response;if(t&&405===t.statusCode)return Ne&&clearTimeout(Ne),Ne=setTimeout((function(){t.result&&t.result.message&&we({message:t.result.message,type:"error"})}),200),void fe.replace("/logout");n&&n.length>0?"FORBIDDEN"===Object(je.get)(n[0],"extensions.code")||setTimeout((function(){we({message:n[0].message,type:"error"})}),1e3):setTimeout((function(){we({message:"Something went wrong!",type:"error"})}),1e3);c&&c.errors.map((function(e){var n=e.message,t=e.locations,c=e.path,s=e.extensions;return de.a(new Error("[Response error]: Message: ".concat(n,", Location: ").concat(t,", Path: ").concat(c))),s&&"FORBIDDEN"===s.code&&fe.replace("/access-denied"),!s||"UNAUTHENTICATED"!==s.code&&405!==s.code&&"JsonWebTokenError"!==s.exception.name||fe.replace("/logout"),console.log("[Response error]: Message: ".concat(n,", Location: ").concat(t,", Path: ").concat(c))})),t&&(console.log("[Network error]: ".concat(t)),de.a(new Error("[Network error]: ".concat(t))))})),Ce=new me.a({link:Object(xe.a)([$e,Ie,Se]),cache:ye});function Ee(e){var n=e.children;return Object(m.jsx)(ge.a,{client:Ce,children:n})}var qe=function(){return Object(m.jsx)("div",{children:Object(m.jsx)(ve.a,{type:"converging-spinner"})})};function Ue(){var e=Object(l.h)().launchId,n=Object(o.a)(U,{variables:{id:e}}),t=n.loading,c=n.error,s=n.data;return t?Object(m.jsx)(qe,{loading:t}):c?Object(m.jsxs)("p",{children:["Error ",JSON.stringify(c)]}):Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{href:"/launches",children:Object(m.jsx)(j.d,{dir:"rtl",id:"launches",text:"Launches"})}),"/"," ",s.launch.mission_name]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"heading",children:Object(m.jsx)("h2",{children:s.launch.mission_name})}),Object(m.jsxs)("div",{className:"center mar",style:{marginTop:"3rem"},children:[Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap"},children:[" ",s.launch.links.flickr_images.map((function(e){return Object(m.jsx)("img",{src:e,className:"image-style",alt:"img"},e)}))]}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"mar",children:s.launch.details}),Object(m.jsxs)("div",{className:"mar",children:[Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Ship name:"," "]}),Object(m.jsxs)("div",{className:"inline",children:[" ",s.launch.ships.name||"-"]})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Ship weight:"," "]}),Object(m.jsxs)("div",{className:"inline",children:[" ",s.launch.ships.weight_kg||"-"]})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Ship was built in:"," "]}),Object(m.jsxs)("div",{className:"inline",children:[" ",s.launch.ships.year_built||"-"]})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Rocket name:"," "]}),Object(m.jsxs)("div",{className:"inline",children:[" ",Object(m.jsx)("a",{href:"/rockets/".concat(s.launch.rocket.rocket.id),children:s.launch.rocket.rocket_name||"-"})]})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Launch site:"," "]}),Object(m.jsxs)("div",{className:"inline",children:[" ",s.launch.launch_site.site_name_long||"-"]})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Launch Date: "," "]}),Object(m.jsxs)("div",{className:"inline",children:[" ",_e(s.launch.launch_date_local)]})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Video link:"," "]}),Object(m.jsx)("div",{className:"inline",children:Object(m.jsx)("a",{href:s.launch.links.video_link,children:s.launch.links.video_link})})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Want to learn more about this? "," "]}),Object(m.jsx)("div",{className:"inline",children:Object(m.jsx)("a",{href:s.launch.links.article_link,children:"here"})})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Was the launch successful ? "," "]}),Object(m.jsxs)("div",{className:"inline",children:[" ",s.launch.launch_success||"-"]})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Is the launch upcoming ? "," "]}),Object(m.jsxs)("div",{className:"inline",children:[" ",s.launch.upcoming||"-"]})]})]})]})})})]})]})]})}function Re(){var e=Object(l.h)().rocketId,n=Object(o.a)(R,{variables:{id:e}}),t=n.loading,c=n.error,s=n.data;return t?Object(m.jsx)(x,{loading:t}):c?Object(m.jsxs)("p",{children:["Error ",JSON.stringify(c)]}):Object(m.jsxs)("div",{className:"mar",children:[Object(m.jsxs)(se.a,{children:[Object(m.jsx)(se.a.Item,{children:Object(m.jsx)("a",{href:H,children:"Rockets"})}),Object(m.jsx)(se.a.Item,{children:s.rocket.name})]}),Object(m.jsx)("div",{className:"byID",children:Object(m.jsxs)("div",{className:"center mar",children:[Object(m.jsx)("div",{className:"heading",children:Object(m.jsx)("h1",{children:"Rocket by ID"})}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{loading:t,children:[Object(m.jsx)("div",{className:"heading",children:Object(m.jsxs)("h3",{children:[s.rocket.name," by ",s.rocket.company," from"," ",s.rocket.country]})}),Object(m.jsx)("div",{children:s.rocket.description}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Boosters: "," "]}),Object(m.jsxs)("div",{className:"inline",children:[" ",s.rocket.boosters]})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Engines: "," "]}),Object(m.jsxs)("div",{className:"inline",children:[" ",s.rocket.engines.engines_loss_max||"null"]})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Diameter: "," "]}),Object(m.jsxs)("div",{className:"inline",children:[" "," ",s.rocket.diameter.meters]})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Weight: "," "]}),Object(m.jsxs)("div",{className:"inline",children:[" ",s.rocket.mass.kg,"kg"]})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Height: "," "]}),Object(m.jsxs)("div",{className:"inline",children:[" ",s.rocket.height.meters," m"]})]}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsxs)("div",{className:"inline bold",children:["Cost: "," "]}),Object(m.jsxs)("div",{className:"inline",children:[" ",s.rocket.cost_per_launch]})]}),Object(m.jsxs)("div",{children:[" ",s.rocket.landing_legs.number," landing legs made with"," ",s.rocket.landing_legs.material||"null"]})]})})]})})]})}var De,Le,Te,Me=t(114),Be=t.n(Me),Pe=t(155),Ae=t(91),Je=t(349),Fe=t(20),ze=t(125),Ye=Object(q.a)(De||(De=Object(E.a)(["\n  mutation insert_users($name: String, $rocket: String, $twitter: String) {\n    insert_users(objects: { name: $name, rocket: $rocket, twitter: $twitter }) {\n      returning {\n        name\n        id\n        rocket\n        twitter\n      }\n    }\n  }\n"]))),We=Object(q.a)(Le||(Le=Object(E.a)(["\n  mutation update_users(\n    $_eq: uuid\n    $name: String\n    $rocket: String\n    $twitter: String\n  ) {\n    update_users(\n      where: { id: { _eq: $_eq } }\n      _set: { name: $name, rocket: $rocket, twitter: $twitter }\n    ) {\n      returning {\n        id\n        name\n        rocket\n        twitter\n      }\n    }\n  }\n"]))),Ve=Object(q.a)(Te||(Te=Object(E.a)(["\n  mutation delete_users($_eq: uuid) {\n    delete_users(where: { id: { _eq: $_eq } }) {\n      returning {\n        name\n        rocket\n        twitter\n      }\n    }\n  }\n"]))),Ge=t(13),He=t(28),Ze=t(174);function Ke(){var e=Object(o.a)(F),n=Object(c.useState)(""),t=Object(d.a)(n,2),s=t[0],a=t[1],i=!e.loading&&e.data.users.length,r=Object(c.useState)([]),l=Object(d.a)(r,2),b=l[0],h=l[1],u=Object(c.useState)(1),O=Object(d.a)(u,2),x=O[0],g=O[1],p=Object(c.useState)(10),f=Object(d.a)(p,2),v=f[0],k=f[1],N=Object(c.useState)(i),y=Object(d.a)(N,2),_=y[0],w=y[1],S=Object(o.a)(z,{variables:{limit:v},fetchPolicy:"network-only"}),$=S.loading,I=S.error,C=S.data,E=(S.refetch,S.fetchMore),q=Object(Je.a)(Ve),U=Object(d.a)(q,1)[0],R=(Object(c.useRef)(null),Object(c.useState)(!1)),D=Object(d.a)(R,2),L=D[0],T=D[1];var M=function(e){var n=e.id;return Object(m.jsxs)("td",{children:[Object(m.jsx)("a",Object(Ae.a)({style:{marginRight:"2rem"},children:b,href:"/users/".concat(n,"/edit")},"children","edit")),Object(m.jsx)("a",{href:"#".concat(n),onClick:function(){return T(!L)},children:"delete"}),Object(m.jsx)("div",{children:L&&Object(m.jsxs)(Ze.a,{title:"Please confirm",onClose:function(){return T(!L)},children:[Object(m.jsx)("p",{style:{margin:"25px",textAlign:"center"},children:"Are you sure you want to continue?"}),Object(m.jsxs)(Ze.b,{children:[Object(m.jsx)("button",{className:"k-button",onClick:function(){return T(!L)},children:"No"}),Object(m.jsx)(Fe.a,{primary:!0,className:"k-button",onClick:function(){return function(e){return B.apply(this,arguments)}(n)},children:"Yes"})]})]})})]})};function B(){return(B=Object(Pe.a)(Be.a.mark((function n(t){return Be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),n.next=3,U({variables:{_eq:t}}).then((function(){return console.log("don")}));case 3:return n.next=5,E({variables:{limit:v,offset:(x-1)*v}}).then((function(e){console.log(e.data.users),h(e.data.users),T(!L)}));case 5:return n.next=7,e.refetch().then((function(e){return w(e.data.users.length)}));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return $?Object(m.jsx)("div",{className:"center",children:Object(m.jsx)(qe,{})}):I?Object(m.jsxs)("p",{children:["Error ",JSON.stringify(I)]}):Object(m.jsxs)("div",{className:"mar",children:[Object(m.jsx)("a",{href:"/users",children:Object(m.jsx)(j.d,{dir:"rtl",id:"users",text:"Users"})}),Object(m.jsx)("div",{className:"heading",children:Object(m.jsx)("h1",{children:"Users"})}),Object(m.jsxs)("div",{className:"flex-between",children:[Object(m.jsx)("div",{className:"pad",children:Object(m.jsx)("a",{href:"/users/create",children:Object(m.jsx)(Fe.a,{primary:"true",style:{padding:"0.5rem"},children:"Create User"})})}),Object(m.jsx)("div",{children:Object(m.jsx)(Ge.b,{label:"Search",editorId:"input-id",editorValue:s,children:Object(m.jsx)(He.e,{id:"input-id",value:s,onChange:function(e){a(e.target.value);var n="%".concat(e.target.value,"%");Ce.query({query:Y,variables:{search:n,limit:v}}).then((function(e){h(e.data.users),w(e.data.users.length)}))}})})})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)(ze.a,{data:b.length>0?b:C.users,pageable:!1,children:[Object(m.jsx)(ze.b,{field:"name",title:"Name"}),Object(m.jsx)(ze.b,{field:"rocket",title:"Rocket"}),Object(m.jsx)(ze.b,{field:"action",classNAME:"flex-center",title:"Action",cell:function(e){return Object(m.jsx)(M,{id:e.dataItem.id})}})]}),Object(m.jsx)(ne.d,{skip:v*(x-1),take:v,total:C.users.length>0?i:_,onPageChange:function(n){console.log(n.take,n.skip,x),k(n.take),g(n.skip/10),E({variables:{limit:n.take,offset:n.skip}}).then((function(e){console.log(e.data.users),h(e.data.users)})),e.refetch().then((function(e){return w(e.data.users.length)}))},buttonCount:5,info:!0,previousNext:!0,type:"numeric"})]})]})}var Qe=t(36),Xe=t(38),en=t(41),nn=(t(46),t(212),t(31),t(3)),tn=["validationMessage","touched","label","id","valid","disabled","hint","type","optional"],cn=function(e){var n=e.validationMessage,t=e.touched,c=e.label,s=e.id,a=e.valid,i=e.disabled,r=e.hint,l=e.type,d=e.optional,o=Object(en.a)(e,tn),j=t&&n,b=!j&&r,h=b?"".concat(s,"_hint"):"",u=j?"".concat(s,"_error"):"";return Object(m.jsxs)(Qe.b,{children:[Object(m.jsx)(Ge.d,{editorId:s,editorValid:a,editorDisabled:i,optional:d,children:c}),Object(m.jsxs)("div",{className:"k-form-field-wrap",children:[Object(m.jsx)(He.e,Object(Xe.a)({valid:a,type:l,id:s,disabled:i,ariaDescribedBy:"".concat(h," ").concat(u)},o)),b&&Object(m.jsx)(Ge.c,{id:h,children:r}),j&&Object(m.jsx)(Ge.a,{id:u,children:n})]})]})},sn=new RegExp(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g),an=(new RegExp(/\S+@\S+\.\S+/),new RegExp(/^[0-9 ()+-]+$/),new RegExp(/^[0-9-]+$/),new RegExp(/^[0-9]+$/),function(e){return e?e.length<5?"User name should be at least 5 characters long.":"":"User Name is required"}),rn=function(e){return e&&sn.test(e)?"":"Not a valid URL"},ln=function(e){return e?"":"Error: This field is required."};Object(nn.k)("username"),Object(nn.k)("email");function dn(){var e,n,t,s=Object(l.h)().userId,a=Object(l.g)(),i=Object(o.a)(J,{variables:{_eq:s}}),r=i.loading,b=i.error,h=i.data,u=Object(Je.a)(We),O=Object(d.a)(u,1)[0],x=Object(Je.a)(Ye),g=Object(d.a)(x,1)[0],p=Object(c.useState)(""),f=Object(d.a)(p,2),v=f[0],k=f[1],N=Object(c.useState)(""),y=Object(d.a)(N,2),_=y[0],w=y[1],S=Object(c.useState)(""),$=Object(d.a)(S,2),I=$[0],C=$[1],E=Object(c.useState)(!1),q=Object(d.a)(E,2),U=q[0],R=q[1],D=Object(c.useState)(!1),L=Object(d.a)(D,2),T=L[0],M=L[1];function B(){return(B=Object(Pe.a)(Be.a.mark((function e(n){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(!0),!s){e.next=6;break}return e.next=4,O({variables:{name:n.name,rocket:n.rocket,twitter:n.twitter,_eq:s}}).then((function(){M(!1),R(!0)}));case 4:e.next=8;break;case 6:return e.next=8,g({variables:{name:n.name,rocket:n.rocket,twitter:n.twitter}}).then((function(){M(!1),R(!0)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){var e,n,t;C(null===h||void 0===h||null===(e=h.users[0])||void 0===e?void 0:e.name),w(null===h||void 0===h||null===(n=h.users[0])||void 0===n?void 0:n.rocket),k(null===h||void 0===h||null===(t=h.users[0])||void 0===t?void 0:t.twitter)}),[h,s,I,_,v]),r?Object(m.jsx)("div",{className:"center",children:Object(m.jsx)(qe,{})}):b?"error! ".concat(b.message):Object(m.jsxs)("div",{className:"mar",style:{marginTop:"1rem"},children:[U&&Object(m.jsx)(l.a,{to:"/users"}),Object(m.jsx)("a",{href:"/users",children:Object(m.jsx)(j.d,{dir:"rtl",id:"users",text:"Users"})}),"/"," ",s?I:"",Object(m.jsx)("div",{className:"heading",children:Object(m.jsx)("h1",{children:s?"Edit User":"Create User"})}),Object(m.jsx)("div",{className:"center",children:Object(m.jsx)(Qe.c,{initialValues:{name:s?null===h||void 0===h||null===(e=h.users[0])||void 0===e?void 0:e.name:"",rocket:s?null===h||void 0===h||null===(n=h.users[0])||void 0===n?void 0:n.rocket:"",twitter:s?null===h||void 0===h||null===(t=h.users[0])||void 0===t?void 0:t.twitter:""},onSubmit:function(e){return B.apply(this,arguments)},render:function(e){return Object(m.jsxs)(Qe.d,{style:{width:400,height:"100%"},children:[U&&Object(m.jsx)(l.a,{to:"/users"}),Object(m.jsx)(Qe.a,{id:"name",name:"name",label:"Name",component:cn,validator:an,value:I,onChange:function(e){return C(e.target.value)}}),Object(m.jsx)(Qe.a,{id:"rocket",name:"rocket",label:"Rocket",component:cn,validator:ln,value:_,onChange:function(e){return w(e.target.value)}}),Object(m.jsx)(Qe.a,{id:"twitter",name:"twitter",label:"Twitter URL",component:cn,value:v,validator:rn,onChange:function(e){return k(e.target.value)}}),Object(m.jsxs)("div",{className:"k-form-buttons flex-between",children:[Object(m.jsx)(Fe.a,{primary:!0,type:"submit",disabled:T,style:{padding:"0.5rem"},children:s?"Update":"Create"}),Object(m.jsx)(Fe.a,{style:{padding:"0.5rem"},onClick:function(){return(0,e.onFormReset)(),void a.push("/users")},children:"Go back"})]})]})}})})]})}function on(){var e=Object(l.h)().launchId,n=Object(o.a)(D,{variables:{id:e}}),t=n.loading,c=n.error,s=n.data;return t?Object(m.jsx)(x,{loading:t}):c?Object(m.jsxs)("p",{children:["Error ",JSON.stringify(c)]}):Object(m.jsxs)("div",{className:"center",children:[Object(m.jsx)("div",{className:"heading",children:Object(m.jsx)("h1",{children:"Upcoming Launch by ID"})}),Object(m.jsx)("div",{children:Object(m.jsxs)(O.a,{loading:t,children:[Object(m.jsx)("h4",{children:s.launchesUpcoming.mission_name}),Object(m.jsx)("div",{children:s.launchesUpcoming.details}),Object(m.jsxs)("div",{children:["On ",_e(s.launchesUpcoming.launch_date_local)]})]},s.launchesUpcoming.id)})]})}t(323);function jn(){return Object(m.jsx)(r.a,{children:Object(m.jsx)(Ee,{children:Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{exact:!0,path:W,component:ie}),Object(m.jsx)(l.b,{exact:!0,path:G,component:te}),Object(m.jsx)(l.b,{exact:!0,path:H,component:ce}),Object(m.jsx)(l.b,{exact:!0,path:V,component:Ke}),Object(m.jsx)(l.b,{exact:!0,path:K,component:dn}),Object(m.jsx)(l.b,{exact:!0,path:Z,component:dn}),Object(m.jsx)(l.b,{exact:!0,path:Q,component:Re}),Object(m.jsx)(l.b,{exact:!0,path:X,component:Ue}),Object(m.jsx)(l.b,{exact:!0,path:ee,component:on})]})})})}var bn=function(){return Object(m.jsxs)("div",{classnmae:"body",children:[Object(m.jsx)(ke,{}),Object(m.jsx)("div",{className:"App main",style:{overFlowY:"scroll"},children:Object(m.jsx)(jn,{})})]})},hn=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,350)).then((function(n){var t=n.getCLS,c=n.getFID,s=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(bn,{})}),document.getElementById("root")),hn()}},[[324,1,2]]]);
//# sourceMappingURL=main.b4e27fed.chunk.js.map